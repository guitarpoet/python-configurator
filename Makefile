################################################################################
#                                                                              #
#                    This is the make file for this project                    #
#                                                                              #
#                    @author Jack <jack@thinkingcloud.info>                    #
#                                 @version 1.0                                 #
#                          @date 2021-05-31 13:53:48                           #
#                                                                              #
################################################################################

#==============================================================================#
#                                  Functions                                   #
#==============================================================================#


define detect
$(shell $(PWD)/scripts/detect.sh $1)
endef

#==============================================================================#
#                                  Variables                                   #
#==============================================================================#

PWD = $(shell pwd)
PYTHON := $(call detect, python)
PYTEST := $(call detect, pytest)
SILENT := @
ECHO := echo
TESTS := tests

#==============================================================================#
#                                    Tasks                                     #
#==============================================================================#

test:
	$(SILENT) $(PYTEST) $(TESTS) -s
.PHONY: test

run:
	$(SILENT) $(ECHO) $(PYTHON) $(PYTEST)
.PHONY: run

